{% set data = {
    id: data.id,
    emptyText: data.emptyText | default,
} %}

{% block body %}
	<dialog popover id="{{ data.id }}" class="ai-product-management-modal modal-popover">
		{% block modal %}
			<div class="modal">
				<div class="modal-dialog">
					<div class="modal-content">
						{% block header %}
							<div class="modal-header">
								<button type="button" class="close" popovertarget="{{ data.id }}" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title">{{ 'AI assistant' | trans }}</h4>
							</div>
						{% endblock %}

						<div class="modal-body js-modal-body">
							{% block loading %}
								<div class="ai-product-management-modal__loading">
									<span>{{ 'AI is processing your request' | trans }}</span>
									<span class="fa fa-spinner fa-spin"></span>
								</div>
							{% endblock %}

							{% block empty %}
								{% if data.emptyText %}
									<span class="text-center ai-product-management-modal__empty">{{ data.emptyText }}</span>
								{% endif %}
							{% endblock %}

							<div class="ai-product-management-modal__content">
								{% block content %}{% endblock %}
							</div>
						</div>

						{% block footer %}
							<div class="modal-footer ai-product-management-modal__actions">
								{% block actions %}
									<div class="modal-actions">
										<button type="button" class="js-ai-product-management-again btn btn-outline btn-view">{{ 'Try again' | trans }}</button>
										<button type="button" popovertarget="{{ data.id }}" class="js-ai-product-management-apply btn">{{ 'Apply' | trans }}</button>
									</div>
								{% endblock %}
							</div>
						{% endblock %}
					</div>
				</div>

				<button type="button" tabindex="-1" popovertarget="{{ data.id }}" class="modal-backdrop"></button>
			</div>
		{% endblock %}
	</dialog>
{% endblock %}
